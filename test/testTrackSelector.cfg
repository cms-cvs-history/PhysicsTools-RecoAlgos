process PROD = {

  untracked PSet options = {
    untracked bool makeTriggerResults = true
  }

  source = PoolSource {
    untracked int32 maxEvents = 10
    untracked vstring fileNames = { "file:reco.root" }
  }

  module allTracks = AnyTrackSelector {
    string src = "CTFAnalytical"
    string alias = "all"
    bool filter = true
  }

  module highPtTracks = LargestPtTrackSelector {
    string src = "CTFAnalytical"	
    string alias = "highPt"
    uint32 max = 2
    bool filter = true
  }

  module ZTracks = MassWindowTrackSelector {
    string src = "CTFAnalytical"	
    string alias = "Z"
    double min = 86
    double max = 97
    bool filter = true
  }

  module outAll = PoolOutputModule {
    untracked string fileName = "allTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_allTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectAllTracks" }
    }  
  }

  module outHighPt = PoolOutputModule {
    untracked string fileName = "highPtTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_highPtTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectHighPtTracks" }
    }  
  }

  module outZ = PoolOutputModule {
    untracked string fileName = "ZTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_ZTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectZTracks" }
    }  
  }

  module evtInfo = AsciiOutputModule {	
  }

  path selectAllTracks = {
    allTracks
  }

  path selectHighPtTracks = {
    highPtTracks
  }

  path selectZTracks = {
    ZTracks
  }

  endpath ep = {
    evtInfo, outAll, outHighPt, outZ
  }
}
