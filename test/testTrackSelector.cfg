process TrackSelectorTest = {

  untracked PSet options = {
    untracked bool makeTriggerResults = true
  }

  source = PoolSource {
    untracked int32 maxEvents = 10
    untracked vstring fileNames = { "file:reco.root" }
  }

  module goodTracks = PtMinTrackSelector {
    InputTag src = ctfWithMaterialTracks
    double ptMin = 15.0
    bool filter = true
  }

  module highPtTracks = LargestPtTrackSelector {
    InputTag src = ctfWithMaterialTracks
    uint32 maxNumber = 2
    bool filter = true
  }

  module ZTracks = MassWindowTrackSelector {
    InputTag src = ctfWithMaterialTracks
    double massMin = 86
    double massMax = 97
    bool filter = true
  }

  module configTracks = ConfigTrackSelector {
    InputTag src = ctfWithMaterialTracks
    string cut = "pt > 15.0"
    bool filter = true
  }

  module outGood = PoolOutputModule {
    untracked string fileName = "goodTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_goodTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectGoodTracks" }
    }  
  }

  module outHighPt = PoolOutputModule {
    untracked string fileName = "highPtTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_highPtTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectHighPtTracks" }
    }  
  }

  module outZ = PoolOutputModule {
    untracked string fileName = "ZTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_ZTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectZTracks" }
    }  
  }

  module outConfig = PoolOutputModule {
    untracked string fileName = "configTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_configTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectConfigTracks" }
    }  
  }

  module evtInfo = AsciiOutputModule {	
  }

  path selectGoodTracks = {
    goodTracks
  }

  path selectHighPtTracks = {
    highPtTracks
  }

  path selectZTracks = {
    ZTracks
  }

  path selectConfigTracks = {
    configTracks
  }

  endpath ep = {
    evtInfo, outGood, outHighPt, outZ, outConfig
  }
}
