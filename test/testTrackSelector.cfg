process PROD = {

  untracked PSet options = {
    untracked bool makeTriggerResults = true
  }

  source = PoolSource {
    untracked int32 maxEvents = 10
    untracked vstring fileNames = { "file:reco.root" }
  }

  module goodTracks = PtMinTrackSelector {
    InputTag src = CTFAnalytical
    double ptMin = 5.0
    bool filter = true
  }

  module highPtTracks = LargestPtTrackSelector {
    InputTag src = CTFAnalytical
    uint32 max = 2
    bool filter = true
  }

  module ZTracks = MassWindowTrackSelector {
    InputTag src = CTFAnalytical
    double min = 86
    double max = 97
    bool filter = true
  }

  module outGood = PoolOutputModule {
    untracked string fileName = "goodTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_goodTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectGoodTracks" }
    }  
  }

  module outHighPt = PoolOutputModule {
    untracked string fileName = "highPtTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_highPtTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectHighPtTracks" }
    }  
  }

  module outZ = PoolOutputModule {
    untracked string fileName = "ZTracks.root"
    untracked vstring outputCommands = {
      "drop *",
      "keep *_ZTracks_*_*"
    }
    untracked PSet SelectEvents = {	
      vstring SelectEvents = { "selectZTracks" }
    }  
  }

  module evtInfo = AsciiOutputModule {	
  }

  path selectGoodTracks = {
    goodTracks
  }

  path selectHighPtTracks = {
    highPtTracks
  }

  path selectZTracks = {
    ZTracks
  }

  endpath ep = {
    evtInfo, outGood, outHighPt, outZ
  }
}
