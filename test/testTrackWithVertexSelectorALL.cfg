process Test1 = {
    include "FWCore/MessageService/data/MessageLogger.cfi"

    source = PoolSource {
        untracked vstring fileNames = { 'file:tracks.root' }
    }
    include "RelValBJets_Pt_50_120.cff"
    untracked PSet maxEvents = { untracked int32 input = 10 }

    include "Configuration/StandardSequences/data/FakeConditions.cff"
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "PhysicsTools/RecoAlgos/data/TrackWithVertexSelector.cfi"
    replace trackWithVertexSelector.vertexTag = pixelVertices
    replace trackWithVertexSelector.useVtx    = true
    replace trackWithVertexSelector.copyExtras = true
    replace trackWithVertexSelector.copyTrajectories = true

    module out = PoolOutputModule {
        untracked string fileName = 'select.root' 
        untracked vstring outputCommands = {
                'drop *',
                'keep recoTracks_*_*_*',
                'keep recoTrackExtras_*_*_*',
                'keep *_*_*_Test1'
        }
    }

    module ascii = AsciiOutputModule { }

    path    p = { ckftracks, trackWithVertexSelector }

    endpath e = { ascii, out }
}
